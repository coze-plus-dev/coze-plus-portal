# æ™ºèƒ½ä½“åŠŸèƒ½å¼€å‘æµç¨‹

æœ¬æ–‡æ¡£æä¾› Coze Plus æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ä»åˆ›å»ºåˆ°å‘å¸ƒçš„å®Œæ•´å¼€å‘æµç¨‹ï¼ŒåŒ…æ‹¬é…ç½®æ¨¡å‹ã€æ·»åŠ å·¥å…·ã€è°ƒè¯•æµ‹è¯•ã€ç‰ˆæœ¬å‘å¸ƒç­‰å†…å®¹ã€‚

## å¿«é€Ÿå¼€å§‹

### 5 åˆ†é’Ÿåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“

#### æ­¥éª¤ 1ï¼šåˆ›å»ºæ™ºèƒ½ä½“

1. ç™»å½• Coze Plus
2. è¿›å…¥å·¥ä½œç©ºé—´
3. ç‚¹å‡» **"åˆ›å»ºæ™ºèƒ½ä½“"** æŒ‰é’®
4. å¡«å†™åŸºæœ¬ä¿¡æ¯ï¼š
   - **åç§°**ï¼šå®¢æˆ·æœåŠ¡åŠ©æ‰‹
   - **æè¿°**ï¼šä¸“ä¸šçš„å®¢æˆ·æœåŠ¡æ™ºèƒ½ä½“ï¼Œå¯ä»¥å›ç­”äº§å“é—®é¢˜
   - **å›¾æ ‡**ï¼šé€‰æ‹©æˆ–ä¸Šä¼ å›¾æ ‡

#### æ­¥éª¤ 2ï¼šé…ç½®æ¨¡å‹

1. åœ¨ **"æ¨¡å‹é…ç½®"** åŒºåŸŸ
2. é€‰æ‹©æ¨¡å‹ï¼š**GPT-4o**
3. è®¾ç½®å‚æ•°ï¼š
   - Temperatureï¼š`0.7`
   - Max Tokensï¼š`2000`

#### æ­¥éª¤ 3ï¼šç¼–å†™äººè®¾æç¤ºè¯

åœ¨ **"äººè®¾æç¤ºè¯"** åŒºåŸŸè¾“å…¥ï¼š

```
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å®¢æˆ·æœåŠ¡åŠ©æ‰‹ï¼Œè´Ÿè´£å›ç­”ç”¨æˆ·å…³äºäº§å“çš„é—®é¢˜ã€‚

ä½ çš„ç‰¹ç‚¹ï¼š
- å‹å¥½ã€è€å¿ƒã€ä¸“ä¸š
- å›ç­”ç®€æ´æ˜äº†
- é‡åˆ°ä¸ç¡®å®šçš„é—®é¢˜ä¼šä¸»åŠ¨å¼•å¯¼ç”¨æˆ·è”ç³»äººå·¥å®¢æœ

ä½ çš„èŒè´£ï¼š
1. å›ç­”äº§å“åŠŸèƒ½é—®é¢˜
2. è§£å†³å¸¸è§æŠ€æœ¯é—®é¢˜
3. å¼•å¯¼ç”¨æˆ·æ‰¾åˆ°æ­£ç¡®çš„èµ„æº
```

#### æ­¥éª¤ 4ï¼šæµ‹è¯•æ™ºèƒ½ä½“

1. ç‚¹å‡»å³ä¾§çš„ **"è°ƒè¯•"** é¢æ¿
2. è¾“å…¥æµ‹è¯•é—®é¢˜ï¼š`ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±`
3. æŸ¥çœ‹æ™ºèƒ½ä½“å›å¤

#### æ­¥éª¤ 5ï¼šå‘å¸ƒæ™ºèƒ½ä½“

1. æµ‹è¯•æ— è¯¯åï¼Œç‚¹å‡» **"å‘å¸ƒ"** æŒ‰é’®
2. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬å·
3. å‘å¸ƒæˆåŠŸï¼Œç°åœ¨å¯ä»¥å¯¹å¤–æä¾›æœåŠ¡

**æ­å–œï¼** ä½ å·²ç»åˆ›å»ºäº†ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚

## å®Œæ•´å¼€å‘æµç¨‹

### 1. éœ€æ±‚åˆ†æ

åœ¨å¼€å§‹å¼€å‘å‰ï¼Œæ˜ç¡®æ™ºèƒ½ä½“çš„éœ€æ±‚ï¼š

```
éœ€æ±‚åˆ†ææ¸…å•ï¼š

â–¡ æ™ºèƒ½ä½“çš„ç›®æ ‡ç”¨æˆ·æ˜¯è°ï¼Ÿ
â–¡ éœ€è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
â–¡ éœ€è¦å“ªäº›èƒ½åŠ›ï¼Ÿ
  â–¡ æ–‡æœ¬å¯¹è¯
  â–¡ çŸ¥è¯†æ£€ç´¢
  â–¡ å·¥å…·è°ƒç”¨
  â–¡ æ•°æ®åº“æ“ä½œ
  â–¡ å·¥ä½œæµç¼–æ’
â–¡ å¯¹è¯é£æ ¼è¦æ±‚ï¼Ÿ
  â–¡ æ­£å¼/è½»æ¾
  â–¡ ä¸“ä¸š/äº²åˆ‡
  â–¡ è¯¦ç»†/ç®€æ´
â–¡ æ€§èƒ½è¦æ±‚ï¼Ÿ
  â–¡ å“åº”æ—¶é—´
  â–¡ å¹¶å‘é‡
  â–¡ å‡†ç¡®ç‡
```

**ç¤ºä¾‹éœ€æ±‚**ï¼š

> **æ™ºèƒ½ä½“åç§°**ï¼šHR æ‹›è˜åŠ©æ‰‹
>
> **ç›®æ ‡ç”¨æˆ·**ï¼šHR å’Œå€™é€‰äºº
>
> **æ ¸å¿ƒåŠŸèƒ½**ï¼š
> 1. å›ç­”å€™é€‰äººå…³äºèŒä½çš„é—®é¢˜
> 2. æ”¶é›†å€™é€‰äººä¿¡æ¯å¹¶å­˜å‚¨åˆ°æ•°æ®åº“
> 3. æ ¹æ® JD åŒ¹é…å€™é€‰äºº
> 4. å®‰æ’é¢è¯•æµç¨‹
>
> **æ‰€éœ€èƒ½åŠ›**ï¼š
> - çŸ¥è¯†åº“ï¼šå­˜å‚¨æ‰€æœ‰èŒä½ JD
> - æ•°æ®åº“ï¼šå­˜å‚¨å€™é€‰äººä¿¡æ¯
> - æ’ä»¶ï¼šæ—¥å†æ’ä»¶ï¼ˆå®‰æ’é¢è¯•ï¼‰
> - å·¥ä½œæµï¼šç®€å†ç­›é€‰æµç¨‹

### 2. åˆ›å»ºæ™ºèƒ½ä½“

#### 2.1 åŸºæœ¬ä¿¡æ¯é…ç½®

**å‰ç«¯æ“ä½œ**ï¼š
1. è¿›å…¥å·¥ä½œç©ºé—´
2. ç‚¹å‡» **"åˆ›å»º" > "æ™ºèƒ½ä½“"**
3. å¡«å†™è¡¨å•

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/create
Content-Type: application/json
Authorization: Bearer <your-api-key>

{
  "space_id": "1",
  "name": "HR æ‹›è˜åŠ©æ‰‹",
  "description": "ä¸“ä¸šçš„ HR æ‹›è˜æ™ºèƒ½ä½“ï¼Œå¸®åŠ©ç­›é€‰å€™é€‰äººå’Œå®‰æ’é¢è¯•",
  "icon_uri": "default_icon/hr_assistant.png"
}
```

**å“åº”**ï¼š
```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "bot_id": "7434343434343434",
    "check_not_pass": false
  }
}
```

#### 2.2 é…ç½®æ¨¡å‹

**å‰ç«¯æ“ä½œ**ï¼š
1. åœ¨æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢
2. æ‰¾åˆ° **"æ¨¡å‹é…ç½®"** åŒºåŸŸ
3. ç‚¹å‡» **"é€‰æ‹©æ¨¡å‹"**
4. é€‰æ‹©æ¨¡å‹å¹¶é…ç½®å‚æ•°

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/update_display_info
Content-Type: application/json

{
  "bot_id": "7434343434343434",
  "display_info": {
    "model_info": {
      "model_id": "69010",
      "llm_params": {
        "temperature": 0.7,
        "max_tokens": 2000,
        "top_p": 0.9,
        "frequency_penalty": 0.0,
        "presence_penalty": 0.0
      }
    }
  }
}
```

**æ¨¡å‹é€‰æ‹©å»ºè®®**ï¼š

| ç”¨é€” | æ¨èæ¨¡å‹ | åŸå›  |
|------|----------|------|
| é€šç”¨å¯¹è¯ | GPT-4o, Claude-3.5 | èƒ½åŠ›å‡è¡¡ï¼Œå“åº”å¿« |
| ä¸“ä¸šé¢†åŸŸ | GPT-4, Claude-3-Opus | æ¨ç†èƒ½åŠ›å¼ºï¼Œå‡†ç¡®åº¦é«˜ |
| ç®€å•é—®ç­” | GPT-4o-mini | æˆæœ¬ä½ï¼Œé€Ÿåº¦å¿« |
| ä»£ç ç”Ÿæˆ | Claude-3.5, DeepSeek-Coder | ä»£ç èƒ½åŠ›å¼º |
| å¤šè¯­è¨€ | Qwen-Max, Gemini-Pro | å¤šè¯­è¨€æ”¯æŒå¥½ |

### 3. ç¼–å†™äººè®¾æç¤ºè¯

äººè®¾æç¤ºè¯ï¼ˆPromptï¼‰æ˜¯æ™ºèƒ½ä½“çš„æ ¸å¿ƒï¼Œå®šä¹‰äº†æ™ºèƒ½ä½“çš„æ€§æ ¼ã€èƒ½åŠ›å’Œè¡Œä¸ºã€‚

#### 3.1 æç¤ºè¯ç»“æ„

**æ¨èç»“æ„**ï¼š

```markdown
# è§’è‰²å®šä¹‰
ä½ æ˜¯ [è§’è‰²åç§°]ï¼Œ[ç®€çŸ­æè¿°]ã€‚

## ä½ çš„ç‰¹ç‚¹
- [ç‰¹ç‚¹ 1]
- [ç‰¹ç‚¹ 2]
- [ç‰¹ç‚¹ 3]

## ä½ çš„èŒè´£
1. [èŒè´£ 1]
2. [èŒè´£ 2]
3. [èŒè´£ 3]

## å¯¹è¯è§„åˆ™
- [è§„åˆ™ 1]
- [è§„åˆ™ 2]
- [è§„åˆ™ 3]

## æ³¨æ„äº‹é¡¹
- [æ³¨æ„äº‹é¡¹ 1]
- [æ³¨æ„äº‹é¡¹ 2]
```

#### 3.2 æç¤ºè¯ç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼šå®¢æˆ·æœåŠ¡åŠ©æ‰‹**

```markdown
# è§’è‰²å®šä¹‰
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å®¢æˆ·æœåŠ¡åŠ©æ‰‹ï¼Œåå«å°æ™ºï¼Œè´Ÿè´£ä¸ºç”¨æˆ·æä¾›äº§å“å’¨è¯¢å’ŒæŠ€æœ¯æ”¯æŒã€‚

## ä½ çš„ç‰¹ç‚¹
- å‹å¥½ã€è€å¿ƒã€ä¸“ä¸š
- å–„äºå€¾å¬ï¼Œèƒ½å‡†ç¡®ç†è§£ç”¨æˆ·é—®é¢˜
- å›ç­”ç®€æ´æ˜äº†ï¼Œé¿å…å†—é•¿
- é‡åˆ°ä¸ç¡®å®šçš„é—®é¢˜ä¼šå¦‚å®å‘ŠçŸ¥

## ä½ çš„èŒè´£
1. å›ç­”ç”¨æˆ·å…³äºäº§å“åŠŸèƒ½ã€ä»·æ ¼ã€ä½¿ç”¨æ–¹æ³•çš„é—®é¢˜
2. å¸®åŠ©ç”¨æˆ·è§£å†³æŠ€æœ¯é—®é¢˜å’Œä½¿ç”¨éšœç¢
3. æ”¶é›†ç”¨æˆ·åé¦ˆå¹¶è®°å½•åˆ°ç³»ç»Ÿä¸­
4. åœ¨å¿…è¦æ—¶å¼•å¯¼ç”¨æˆ·è”ç³»äººå·¥å®¢æœ

## å¯¹è¯è§„åˆ™
- å§‹ç»ˆä¿æŒç¤¼è²Œå’Œè€å¿ƒ
- æ¯æ¬¡å›å¤å‰å…ˆç¡®è®¤ç†è§£äº†ç”¨æˆ·çš„é—®é¢˜
- å¦‚æœé—®é¢˜å¤æ‚ï¼Œåˆ†æ­¥éª¤è§£ç­”
- æä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆè€Œä¸æ˜¯æ³›æ³›è€Œè°ˆ
- ä¸»åŠ¨è¯¢é—®ç”¨æˆ·æ˜¯å¦è¿˜æœ‰å…¶ä»–é—®é¢˜

## æ³¨æ„äº‹é¡¹
- ä¸è¦è‡†æµ‹ç”¨æˆ·çš„é—®é¢˜ï¼Œæœ‰ç–‘é—®æ—¶ä¸»åŠ¨è¯¢é—®
- ä¸è¦æ‰¿è¯ºæ— æ³•å…‘ç°çš„å†…å®¹
- é‡åˆ°æŠ•è¯‰æˆ–è´Ÿé¢æƒ…ç»ªï¼Œä¿æŒå†·é™å’Œç†è§£
- æ•æ„Ÿé—®é¢˜ï¼ˆå¦‚é€€æ¬¾ã€è´¦å·å®‰å…¨ï¼‰å¼•å¯¼ç”¨æˆ·è”ç³»äººå·¥
```

**ç¤ºä¾‹ 2ï¼šä»£ç åŠ©æ‰‹**

```markdown
# è§’è‰²å®šä¹‰
ä½ æ˜¯ä¸€ä¸ªèµ„æ·±çš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œç²¾é€šå¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…è§£å†³ä»£ç é—®é¢˜ã€‚

## ä½ çš„ç‰¹ç‚¹
- æŠ€æœ¯ä¸“ä¸šï¼Œç»éªŒä¸°å¯Œ
- è§£é‡Šæ¸…æ™°ï¼Œæ³¨é‡ç»†èŠ‚
- æä¾›å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹
- å…³æ³¨ä»£ç è´¨é‡å’Œæœ€ä½³å®è·µ

## ä½ çš„èŒè´£
1. å›ç­”ç¼–ç¨‹ç›¸å…³é—®é¢˜
2. å¸®åŠ©è°ƒè¯•ä»£ç é”™è¯¯
3. æä¾›ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
4. è§£é‡ŠæŠ€æœ¯æ¦‚å¿µå’ŒåŸç†
5. æ¨èåˆé€‚çš„å·¥å…·å’Œåº“

## å¯¹è¯è§„åˆ™
- æä¾›ä»£ç æ—¶å¿…é¡»åŒ…å«æ³¨é‡Š
- è§£é‡ŠæŠ€æœ¯æ¦‚å¿µæ—¶ä½¿ç”¨ç±»æ¯”å’Œä¾‹å­
- æŒ‡å‡ºä»£ç çš„æ½œåœ¨é—®é¢˜å’Œæ”¹è¿›ç©ºé—´
- é¼“åŠ±å¼€å‘è€…æ€è€ƒè€Œä¸æ˜¯ç›´æ¥ç»™ç­”æ¡ˆ

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šReact, Vue, TypeScript
- åç«¯ï¼šNode.js, Python, Go
- æ•°æ®åº“ï¼šMySQL, PostgreSQL, MongoDB
- å·¥å…·ï¼šGit, Docker, CI/CD

## æ³¨æ„äº‹é¡¹
- ç¡®ä¿ä»£ç ç¤ºä¾‹å¯ä»¥ç›´æ¥è¿è¡Œ
- æ³¨æ˜ä»£ç çš„è¿è¡Œç¯å¢ƒå’Œä¾èµ–
- è€ƒè™‘å®‰å…¨æ€§å’Œæ€§èƒ½é—®é¢˜
- ä¸è¦ç”Ÿæˆæ¶æ„ä»£ç 
```

#### 3.3 å˜é‡æ³¨å…¥

æç¤ºè¯æ”¯æŒ **Jinja2** æ¨¡æ¿å˜é‡ï¼Œå¯ä»¥åŠ¨æ€æ³¨å…¥ç”¨æˆ·ä¿¡æ¯ã€ä¸Šä¸‹æ–‡ç­‰ï¼š

```markdown
# è§’è‰²å®šä¹‰
ä½ æ˜¯ {{company_name}} çš„å®¢æœåŠ©æ‰‹ï¼Œè´Ÿè´£å›ç­”ç”¨æˆ·é—®é¢˜ã€‚

## ç”¨æˆ·ä¿¡æ¯
- ç”¨æˆ·åï¼š{{user_name}}
- ä¼šå‘˜ç­‰çº§ï¼š{{user_level}}
- æ³¨å†Œæ—¶é—´ï¼š{{register_date}}

## ä¸Šä¸‹æ–‡ä¿¡æ¯
- å½“å‰æ—¶é—´ï¼š{{current_time}}
- ç”¨æˆ·ä½ç½®ï¼š{{user_location}}
```

**API é…ç½®**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "prompt": {
      "prompt": "ä½ æ˜¯ {{company_name}} çš„å®¢æœ...",
      "variables": {
        "company_name": "Coze Plus",
        "user_name": "å¼ ä¸‰",
        "user_level": "VIP",
        "register_date": "2024-01-01"
      }
    }
  }
}
```

### 4. æ·»åŠ å·¥å…·èƒ½åŠ›

æ™ºèƒ½ä½“å¯ä»¥é›†æˆå¤šç§å·¥å…·æ¥æ‰©å±•èƒ½åŠ›ã€‚

#### 4.1 æ·»åŠ æ’ä»¶å·¥å…·

**æ­¥éª¤**ï¼š
1. è¿›å…¥æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢
2. ç‚¹å‡» **"æ·»åŠ å·¥å…·" > "æ’ä»¶"**
3. é€‰æ‹©å·²æœ‰æ’ä»¶æˆ–åˆ›å»ºæ–°æ’ä»¶
4. é…ç½®æ’ä»¶å‚æ•°

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "plugin": [
      {
        "plugin_id": "1234",
        "api_id": "5678",
        "plugin_from": "product",
        "enabled": true
      }
    ]
  }
}
```

**æ’ä»¶ç¤ºä¾‹**ï¼š

```yaml
# å¤©æ°”æŸ¥è¯¢æ’ä»¶
plugin_id: 1001
name: å¤©æ°”æŸ¥è¯¢
description: æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯
tools:
  - name: get_weather
    description: è·å–åŸå¸‚å¤©æ°”
    parameters:
      city:
        type: string
        description: åŸå¸‚åç§°
        required: true
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- è°ƒç”¨å¤–éƒ¨ APIï¼ˆå¦‚å¤©æ°”ã€åœ°å›¾ã€å¿«é€’ï¼‰
- é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚æ”¯ä»˜ã€çŸ­ä¿¡ï¼‰
- è®¿é—®å†…éƒ¨ç³»ç»Ÿï¼ˆå¦‚ CRMã€ERPï¼‰

#### 4.2 æ·»åŠ çŸ¥è¯†åº“

**æ­¥éª¤**ï¼š
1. åˆ›å»ºçŸ¥è¯†åº“å¹¶ä¸Šä¼ æ–‡æ¡£
2. åœ¨æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢ç‚¹å‡» **"æ·»åŠ å·¥å…·" > "çŸ¥è¯†åº“"**
3. é€‰æ‹©çŸ¥è¯†åº“
4. é…ç½®æ£€ç´¢å‚æ•°

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "knowledge": {
      "knowledge_ids": ["101", "102", "103"],
      "recall_config": {
        "top_k": 5,
        "score_threshold": 0.7,
        "rerank_enabled": true
      }
    }
  }
}
```

**çŸ¥è¯†åº“é…ç½®**ï¼š

| å‚æ•° | è¯´æ˜ | æ¨èå€¼ |
|------|------|--------|
| `top_k` | è¿”å›æ–‡æ¡£æ•°é‡ | 3-5 |
| `score_threshold` | ç›¸ä¼¼åº¦é˜ˆå€¼ | 0.6-0.8 |
| `rerank_enabled` | æ˜¯å¦å¯ç”¨é‡æ’åº | true |

**æœ€ä½³å®è·µ**ï¼š
- æ–‡æ¡£åˆ†æ®µä¸è¦å¤ªé•¿ï¼ˆå»ºè®® 500-1000 å­—ï¼‰
- å®šæœŸæ›´æ–°çŸ¥è¯†åº“å†…å®¹
- ä½¿ç”¨è¯­ä¹‰åˆ†æ®µè€Œä¸æ˜¯å›ºå®šé•¿åº¦
- ä¸ºé‡è¦æ–‡æ¡£è®¾ç½®æ›´é«˜æƒé‡

#### 4.3 æ·»åŠ æ•°æ®åº“å·¥å…·

**æ­¥éª¤**ï¼š
1. åˆ›å»ºæ•°æ®åº“å¹¶å®šä¹‰è¡¨ç»“æ„
2. åœ¨æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢ç‚¹å‡» **"æ·»åŠ å·¥å…·" > "æ•°æ®åº“"**
3. é€‰æ‹©æ•°æ®åº“å’Œè¡¨
4. é…ç½®æ“ä½œæƒé™

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "database": [
      {
        "database_id": "201",
        "table_name": "candidates",
        "enabled_operations": ["query", "insert", "update"],
        "description": "å€™é€‰äººä¿¡æ¯è¡¨"
      }
    ]
  }
}
```

**æ•°æ®åº“è¡¨ç¤ºä¾‹**ï¼š

```sql
CREATE TABLE candidates (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL COMMENT 'å§“å',
  email VARCHAR(100) COMMENT 'é‚®ç®±',
  phone VARCHAR(20) COMMENT 'ç”µè¯',
  position VARCHAR(100) COMMENT 'åº”è˜èŒä½',
  resume_url VARCHAR(500) COMMENT 'ç®€å†é“¾æ¥',
  status VARCHAR(20) COMMENT 'çŠ¶æ€: pending/interviewed/offered/rejected',
  created_at BIGINT COMMENT 'åˆ›å»ºæ—¶é—´'
);
```

**æ“ä½œç¤ºä¾‹**ï¼š

æ™ºèƒ½ä½“å¯ä»¥æ‰§è¡Œçš„æ•°æ®åº“æ“ä½œï¼š

```sql
-- æŸ¥è¯¢
SELECT * FROM candidates WHERE position = 'å‰ç«¯å·¥ç¨‹å¸ˆ' AND status = 'pending';

-- æ’å…¥
INSERT INTO candidates (name, email, phone, position, status)
VALUES ('å¼ ä¸‰', 'zhangsan@example.com', '13800138000', 'åç«¯å·¥ç¨‹å¸ˆ', 'pending');

-- æ›´æ–°
UPDATE candidates SET status = 'interviewed' WHERE id = 123;
```

**å®‰å…¨å»ºè®®**ï¼š
- é™åˆ¶æ™ºèƒ½ä½“çš„æ•°æ®åº“æƒé™
- ä¸å…è®¸ DROPã€TRUNCATE ç­‰å±é™©æ“ä½œ
- æ•æ„Ÿå­—æ®µè®¾ç½®è®¿é—®é™åˆ¶
- è®°å½•æ‰€æœ‰æ•°æ®åº“æ“ä½œæ—¥å¿—

#### 4.4 æ·»åŠ å·¥ä½œæµ

**æ­¥éª¤**ï¼š
1. åˆ›å»ºå·¥ä½œæµå¹¶é…ç½®èŠ‚ç‚¹
2. åœ¨æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢ç‚¹å‡» **"æ·»åŠ å·¥å…·" > "å·¥ä½œæµ"**
3. é€‰æ‹©å·¥ä½œæµ
4. é…ç½®å·¥ä½œæµå‚æ•°

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "workflow": [
      {
        "workflow_id": "301",
        "workflow_name": "ç®€å†ç­›é€‰æµç¨‹",
        "enabled": true,
        "return_directly": false
      }
    ]
  }
}
```

**å·¥ä½œæµç¤ºä¾‹**ï¼š

```yaml
# ç®€å†ç­›é€‰å·¥ä½œæµ
name: ç®€å†ç­›é€‰æµç¨‹
description: è‡ªåŠ¨ç­›é€‰å€™é€‰äººç®€å†

nodes:
  - id: start
    type: input
    output: resume_text

  - id: extract
    type: llm
    input: resume_text
    prompt: ä»ä»¥ä¸‹ç®€å†ä¸­æå–å…³é”®ä¿¡æ¯...
    output: candidate_info

  - id: score
    type: code
    input: candidate_info
    code: |
      score = calculate_match_score(candidate_info, job_requirements)
      return {"score": score, "passed": score >= 70}
    output: score_result

  - id: save
    type: database
    input: candidate_info, score_result
    operation: insert
    table: candidates

  - id: notify
    type: plugin
    input: score_result
    plugin: email_service
    condition: score_result.passed == true
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- å¤æ‚ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–
- å¤šæ­¥éª¤æ•°æ®å¤„ç†
- æ¡ä»¶åˆ†æ”¯é€»è¾‘
- é›†æˆå¤šä¸ªå·¥å…·

#### 4.5 æ·»åŠ å˜é‡å·¥å…·

å˜é‡å·¥å…·ç”¨äºå­˜å‚¨å’Œè¯»å–ä¼šè¯çº§åˆ«çš„æ•°æ®ã€‚

**æ­¥éª¤**ï¼š
1. åœ¨æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢ç‚¹å‡» **"å˜é‡ç®¡ç†"**
2. å®šä¹‰å˜é‡
3. æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡å·¥å…·è°ƒç”¨è¯»å†™å˜é‡

**API æ–¹å¼**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "variables_meta_id": "401"
  }
}
```

**å˜é‡å®šä¹‰**ï¼š

```yaml
variables:
  - name: user_preference
    type: json
    description: ç”¨æˆ·åå¥½è®¾ç½®
    default: {}

  - name: conversation_summary
    type: text
    description: å¯¹è¯æ‘˜è¦
    default: ""

  - name: interaction_count
    type: integer
    description: äº¤äº’æ¬¡æ•°
    default: 0
```

**å˜é‡æ“ä½œ**ï¼š

æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡å·¥å…·è°ƒç”¨æ“ä½œå˜é‡ï¼š

```json
// è¯»å–å˜é‡
{
  "tool": "get_variable",
  "parameters": {
    "variable_name": "user_preference"
  }
}

// å†™å…¥å˜é‡
{
  "tool": "set_variable",
  "parameters": {
    "variable_name": "user_preference",
    "value": {"theme": "dark", "language": "zh-CN"}
  }
}
```

### 5. é…ç½®å¼€åœºç™½å’Œæ¨èå›å¤

#### 5.1 å¼€åœºç™½é…ç½®

å¼€åœºç™½æ˜¯ç”¨æˆ·é¦–æ¬¡ä¸æ™ºèƒ½ä½“å¯¹è¯æ—¶çš„æ¬¢è¿è¯­ã€‚

**ç¤ºä¾‹**ï¼š

```json
{
  "onboarding_info": {
    "prologue": "ä½ å¥½ï¼æˆ‘æ˜¯ HR æ‹›è˜åŠ©æ‰‹ ğŸ‘‹\n\næˆ‘å¯ä»¥å¸®åŠ©ä½ ï¼š\nâ€¢ äº†è§£èŒä½ä¿¡æ¯\nâ€¢ æäº¤ç®€å†\nâ€¢ å®‰æ’é¢è¯•\nâ€¢ æŸ¥è¯¢æ‹›è˜è¿›åº¦\n\nè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„ï¼Ÿ",
    "suggested_questions": [
      "æœ‰å“ªäº›å‰ç«¯å·¥ç¨‹å¸ˆèŒä½ï¼Ÿ",
      "å¦‚ä½•æäº¤ç®€å†ï¼Ÿ",
      "é¢è¯•æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"
    ]
  }
}
```

**é…ç½® API**ï¼š

```bash
POST /api/draftbot/update_display_info

{
  "bot_id": "7434343434343434",
  "display_info": {
    "onboarding_info": {
      "prologue": "ä½ å¥½ï¼æˆ‘æ˜¯...",
      "suggested_questions": [...]
    }
  }
}
```

#### 5.2 æ¨èå›å¤é…ç½®

æ¨èå›å¤ä¼šæ ¹æ®å¯¹è¯ä¸Šä¸‹æ–‡åŠ¨æ€ç”Ÿæˆå»ºè®®ã€‚

**é…ç½®**ï¼š

```json
{
  "suggest_reply_info": {
    "enabled": true,
    "mode": "auto",  // auto: è‡ªåŠ¨ç”Ÿæˆ, manual: æ‰‹åŠ¨é…ç½®
    "max_suggestions": 3,
    "trigger_rules": [
      {
        "condition": "user_question",
        "suggestions": ["æ›´å¤šç»†èŠ‚", "ä¸¾ä¸ªä¾‹å­", "æ¢ä¸ªæ–¹å¼"]
      }
    ]
  }
}
```

### 6. è°ƒè¯•ä¸æµ‹è¯•

#### 6.1 æœ¬åœ°è°ƒè¯•

**è°ƒè¯•é¢æ¿**ï¼š
1. åœ¨æ™ºèƒ½ä½“ç¼–è¾‘é¡µé¢å³ä¾§
2. è¾“å…¥æµ‹è¯•æ¶ˆæ¯
3. æŸ¥çœ‹æ™ºèƒ½ä½“å›å¤
4. æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯ï¼ˆå·¥å…·è°ƒç”¨ã€æç¤ºè¯ã€Token æ¶ˆè€—ï¼‰

**è°ƒè¯•é€‰é¡¹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è°ƒè¯•é¢æ¿                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–¡ æ˜¾ç¤ºæç¤ºè¯                          â”‚
â”‚  â–¡ æ˜¾ç¤ºå·¥å…·è°ƒç”¨è¯¦æƒ…                    â”‚
â”‚  â–¡ æ˜¾ç¤º Token æ¶ˆè€—                     â”‚
â”‚  â–¡ æ˜¾ç¤ºæ‰§è¡Œæ—¶é—´                        â”‚
â”‚  â–¡ ä¿å­˜è°ƒè¯•æ—¥å¿—                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è°ƒè¯•ä¿¡æ¯ç¤ºä¾‹**ï¼š

```json
{
  "request_id": "req_123456",
  "agent_id": 7434343434343434,
  "user_input": "æœ‰å“ªäº›å‰ç«¯èŒä½ï¼Ÿ",

  "execution_flow": [
    {
      "step": 1,
      "node": "persona_render",
      "duration_ms": 10,
      "output": "æ¸²æŸ“åçš„æç¤ºè¯..."
    },
    {
      "step": 2,
      "node": "llm_thinking",
      "duration_ms": 1500,
      "model": "gpt-4o",
      "tokens": {
        "prompt": 800,
        "completion": 150,
        "total": 950
      },
      "output": "æˆ‘éœ€è¦æŸ¥è¯¢æ•°æ®åº“ä¸­çš„èŒä½ä¿¡æ¯..."
    },
    {
      "step": 3,
      "node": "tool_call",
      "tool": "database_query",
      "duration_ms": 50,
      "parameters": {
        "table": "jobs",
        "query": "SELECT * FROM jobs WHERE category = 'å‰ç«¯' AND status = 'open'"
      },
      "output": [
        {"id": 1, "title": "å‰ç«¯å·¥ç¨‹å¸ˆ", "location": "åŒ—äº¬"},
        {"id": 2, "title": "é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆ", "location": "ä¸Šæµ·"}
      ]
    },
    {
      "step": 4,
      "node": "llm_answer",
      "duration_ms": 1200,
      "output": "æˆ‘ä»¬ç›®å‰æœ‰ 2 ä¸ªå‰ç«¯èŒä½å¼€æ”¾..."
    }
  ],

  "total_duration_ms": 2760,
  "total_tokens": 1100
}
```

#### 6.2 æµ‹è¯•ç”¨ä¾‹

**æ¨èæµ‹è¯•åœºæ™¯**ï¼š

| æµ‹è¯•ç±»å‹ | æµ‹è¯•å†…å®¹ | é¢„æœŸç»“æœ |
|----------|----------|----------|
| **åŸºç¡€å¯¹è¯** | ç®€å•é—®ç­” | å›ç­”å‡†ç¡®ã€æµç•… |
| **å·¥å…·è°ƒç”¨** | è§¦å‘å·¥å…·è°ƒç”¨ | å·¥å…·æ­£ç¡®æ‰§è¡Œ |
| **å¤šè½®å¯¹è¯** | ä¸Šä¸‹æ–‡ç†è§£ | ä¿æŒä¸Šä¸‹æ–‡è¿è´¯ |
| **è¾¹ç•Œæƒ…å†µ** | æ— æ•ˆè¾“å…¥ã€è¶…é•¿è¾“å…¥ | å¦¥å–„å¤„ç† |
| **å¹¶å‘æµ‹è¯•** | å¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨ | æ€§èƒ½ç¨³å®š |
| **é”™è¯¯å¤„ç†** | å·¥å…·å¤±è´¥ã€è¶…æ—¶ | ä¼˜é›…é™çº§ |

**æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹**ï¼š

```yaml
test_cases:
  - name: åŸºç¡€é—®ç­”
    input: "ä½ å¥½ï¼Œä½ æ˜¯è°ï¼Ÿ"
    expected_keywords: ["HR", "æ‹›è˜", "åŠ©æ‰‹"]

  - name: å·¥å…·è°ƒç”¨
    input: "æœ‰å“ªäº›å‰ç«¯èŒä½ï¼Ÿ"
    expected_tools: ["database_query"]
    expected_output_contains: ["å‰ç«¯å·¥ç¨‹å¸ˆ"]

  - name: å¤šè½®å¯¹è¯
    conversations:
      - input: "æœ‰å“ªäº›åç«¯èŒä½ï¼Ÿ"
        expected: "...åç«¯å·¥ç¨‹å¸ˆ..."
      - input: "ç¬¬ä¸€ä¸ªèŒä½çš„è¯¦ç»†ä¿¡æ¯æ˜¯ä»€ä¹ˆï¼Ÿ"
        expected: "...{ç¬¬ä¸€ä¸ªèŒä½çš„è¯¦æƒ…}..."

  - name: é”™è¯¯å¤„ç†
    input: "åˆ é™¤æ‰€æœ‰æ•°æ®"
    expected: "æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰æƒé™æ‰§è¡Œåˆ é™¤æ“ä½œ"
```

#### 6.3 API æµ‹è¯•

**æµ‹è¯•æ¥å£**ï¼š

```bash
# 1. è°ƒè¯•æ¨¡å¼æ‰§è¡Œ
POST /api/v1/chat
Content-Type: application/json
Authorization: Bearer <api-key>

{
  "bot_id": 7434343434343434,
  "conversation_id": "conv_test_001",
  "query": "æœ‰å“ªäº›å‰ç«¯èŒä½ï¼Ÿ",
  "draft_mode": true,  # ä½¿ç”¨è‰ç¨¿ç‰ˆæœ¬
  "stream": true
}

# 2. æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—
GET /api/bot/execute/logs?agent_id=7434343434343434&limit=20

# 3. æŸ¥çœ‹ Token æ¶ˆè€—
GET /api/bot/stats/tokens?agent_id=7434343434343434&start_date=2025-01-01
```

### 7. ä¼˜åŒ–ä¸è°ƒæ•´

#### 7.1 æç¤ºè¯ä¼˜åŒ–

**ä¼˜åŒ–ç­–ç•¥**ï¼š

1. **A/B æµ‹è¯•**ï¼š
   ```yaml
   version_a:
     prompt: "ä½ æ˜¯ä¸“ä¸šçš„å®¢æœåŠ©æ‰‹..."
     test_cases: 100
     satisfaction: 85%

   version_b:
     prompt: "ä½ æ˜¯å‹å¥½çš„å®¢æœåŠ©æ‰‹..."
     test_cases: 100
     satisfaction: 92%  # èƒœå‡º

   decision: é‡‡ç”¨ version_b
   ```

2. **Few-shot ç¤ºä¾‹**ï¼š
   ```markdown
   # è§’è‰²å®šä¹‰
   ä½ æ˜¯ HR æ‹›è˜åŠ©æ‰‹...

   ## å¯¹è¯ç¤ºä¾‹

   ç”¨æˆ·ï¼šæœ‰å“ªäº›å‰ç«¯èŒä½ï¼Ÿ
   åŠ©æ‰‹ï¼šæˆ‘ä»¬ç›®å‰æœ‰ 3 ä¸ªå‰ç«¯èŒä½å¼€æ”¾ï¼š
   1. å‰ç«¯å·¥ç¨‹å¸ˆï¼ˆåŒ—äº¬ï¼‰- 3-5å¹´ç»éªŒ
   2. é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆï¼ˆä¸Šæµ·ï¼‰- 5-8å¹´ç»éªŒ
   3. å‰ç«¯æŠ€æœ¯ä¸“å®¶ï¼ˆæ·±åœ³ï¼‰- 8å¹´ä»¥ä¸Šç»éªŒ
   æ‚¨å¯¹å“ªä¸ªèŒä½æ„Ÿå…´è¶£ï¼Ÿ

   ç”¨æˆ·ï¼šç¬¬ä¸€ä¸ªèŒä½çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ
   åŠ©æ‰‹ï¼šå‰ç«¯å·¥ç¨‹å¸ˆï¼ˆåŒ—äº¬ï¼‰çš„å²—ä½è¦æ±‚å¦‚ä¸‹...
   ```

3. **Chain of Thought**ï¼š
   ```markdown
   åœ¨å›ç­”é—®é¢˜å‰ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ€è€ƒï¼š
   1. ç†è§£ç”¨æˆ·çš„é—®é¢˜
   2. ç¡®å®šéœ€è¦å“ªäº›ä¿¡æ¯
   3. è°ƒç”¨å¿…è¦çš„å·¥å…·
   4. ç»„ç»‡ç­”æ¡ˆ
   5. æ£€æŸ¥ç­”æ¡ˆçš„å‡†ç¡®æ€§
   ```

#### 7.2 æ¨¡å‹å‚æ•°è°ƒä¼˜

**å‚æ•°è°ƒä¼˜è¡¨**ï¼š

| å‚æ•° | ä½œç”¨ | è°ƒä¼˜å»ºè®® |
|------|------|----------|
| **Temperature** | æ§åˆ¶éšæœºæ€§ | é—®ç­”ç±»ï¼š0.3-0.5<br>åˆ›æ„ç±»ï¼š0.7-0.9<br>ä»£ç ç±»ï¼š0.1-0.3 |
| **Max Tokens** | è¾“å‡ºé•¿åº¦é™åˆ¶ | ç®€ç­”ï¼š500-1000<br>è¯¦ç»†è§£ç­”ï¼š1500-2500<br>é•¿æ–‡æœ¬ï¼š3000+ |
| **Top P** | æ ¸é‡‡æ ·æ¦‚ç‡ | é€šå¸¸ä¿æŒ 0.9-1.0 |
| **Frequency Penalty** | é™ä½é‡å¤ | 0.0-0.5ï¼Œé¿å…é‡å¤è¡¨è¾¾ |
| **Presence Penalty** | é¼“åŠ±æ–°è¯é¢˜ | 0.0-0.5ï¼Œé¿å…è¯é¢˜å¾ªç¯ |

**è°ƒä¼˜ç¤ºä¾‹**ï¼š

```json
{
  "model_info": {
    "model_id": 69010,
    "llm_params": {
      "temperature": 0.4,        // é™ä½éšæœºæ€§ï¼Œæé«˜å‡†ç¡®åº¦
      "max_tokens": 1500,        // é€‚ä¸­çš„å›å¤é•¿åº¦
      "top_p": 0.95,
      "frequency_penalty": 0.3,  // å‡å°‘é‡å¤
      "presence_penalty": 0.2    // é¼“åŠ±å¤šæ ·æ€§
    }
  }
}
```

#### 7.3 å·¥å…·è°ƒç”¨ä¼˜åŒ–

**ä¼˜åŒ–ç­–ç•¥**ï¼š

1. **å·¥å…·æè¿°ä¼˜åŒ–**ï¼š
   ```json
   // ä¸å¥½çš„æè¿°
   {
     "name": "query_db",
     "description": "æŸ¥è¯¢æ•°æ®åº“"
   }

   // å¥½çš„æè¿°
   {
     "name": "query_jobs",
     "description": "æŸ¥è¯¢èŒä½ä¿¡æ¯ã€‚ç”¨äºå›ç­”ç”¨æˆ·å…³äºèŒä½åˆ—è¡¨ã€èŒä½è¯¦æƒ…ã€èŒä½è¦æ±‚ç­‰é—®é¢˜ã€‚å‚æ•° category å¯ä»¥æ˜¯ï¼šå‰ç«¯ã€åç«¯ã€æµ‹è¯•ã€äº§å“ç­‰ã€‚"
   }
   ```

2. **å‡å°‘å·¥å…·æ•°é‡**ï¼š
   - åˆå¹¶ç›¸ä¼¼åŠŸèƒ½çš„å·¥å…·
   - ç§»é™¤ä¸å¸¸ç”¨çš„å·¥å…·
   - ä½¿ç”¨å·¥ä½œæµæ›¿ä»£å¤šä¸ªç‹¬ç«‹å·¥å…·

3. **å·¥å…·è°ƒç”¨ç¼“å­˜**ï¼š
   ```go
   // ç¼“å­˜æŸ¥è¯¢ç»“æœ
   func QueryJobs(category string) ([]Job, error) {
       cacheKey := "jobs:" + category

       // å°è¯•ä»ç¼“å­˜è¯»å–
       if cached, ok := cache.Get(cacheKey); ok {
           return cached.([]Job), nil
       }

       // æŸ¥è¯¢æ•°æ®åº“
       jobs, err := db.Query("SELECT * FROM jobs WHERE category = ?", category)
       if err != nil {
           return nil, err
       }

       // ç¼“å­˜ç»“æœï¼ˆ5 åˆ†é’Ÿï¼‰
       cache.Set(cacheKey, jobs, 5*time.Minute)

       return jobs, nil
   }
   ```

### 8. ç‰ˆæœ¬ç®¡ç†ä¸å‘å¸ƒ

#### 8.1 ç‰ˆæœ¬å‘½åè§„èŒƒ

**æ¨èè§„èŒƒ**ï¼š

```
v<major>.<minor>.<patch>

major: é‡å¤§åŠŸèƒ½æ›´æ–°
minor: æ–°å¢åŠŸèƒ½
patch: Bug ä¿®å¤å’Œå°ä¼˜åŒ–
```

**ç¤ºä¾‹**ï¼š
- `v1.0.0`ï¼šåˆå§‹ç‰ˆæœ¬
- `v1.1.0`ï¼šæ–°å¢çŸ¥è¯†åº“åŠŸèƒ½
- `v1.1.1`ï¼šä¿®å¤æç¤ºè¯é—®é¢˜
- `v2.0.0`ï¼šé‡æ„æ™ºèƒ½ä½“æ¶æ„

#### 8.2 å‘å¸ƒæµç¨‹

**æ­¥éª¤**ï¼š

1. **æµ‹è¯•éªŒè¯**ï¼š
   ```bash
   # è¿è¡Œæµ‹è¯•ç”¨ä¾‹
   npm run test:agent -- --agent-id=7434343434343434

   # æ£€æŸ¥é…ç½®
   npm run validate:agent -- --agent-id=7434343434343434
   ```

2. **åˆ›å»ºç‰ˆæœ¬**ï¼š
   ```bash
   POST /api/draftbot/publish
   {
     "bot_id": "7434343434343434",
     "space_id": "1",
     "version": "v1.2.0",
     "description": "æ–°å¢ç®€å†ç­›é€‰å·¥ä½œæµ"
   }
   ```

3. **ç°åº¦å‘å¸ƒ**ï¼ˆå¯é€‰ï¼‰ï¼š
   ```json
   {
     "bot_id": "7434343434343434",
     "space_id": "1",
     "version": "v1.2.0",
     "rollout_strategy": {
       "type": "percentage",
       "percentage": 10
     }
   }
   ```

4. **å…¨é‡å‘å¸ƒ**ï¼š
   ```bash
   POST /api/draftbot/publish
   {
     "bot_id": "7434343434343434",
     "space_id": "1",
     "version": "v1.2.0",
     "percentage": 100
   }
   ```

#### 8.3 ç‰ˆæœ¬å›æ»š

å¦‚æœå‘ç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

```bash
POST /api/draftbot/publish
{
  "bot_id": "7434343434343434",
  "space_id": "1",
  "version": "v1.1.1",
  "rollback": true
}
```

### 9. ç›‘æ§ä¸ç»´æŠ¤

#### 9.1 æ€§èƒ½ç›‘æ§

**å…³é”®æŒ‡æ ‡**ï¼š

| æŒ‡æ ‡ | è¯´æ˜ | å‘Šè­¦é˜ˆå€¼ |
|------|------|----------|
| **å“åº”æ—¶é—´** | å¹³å‡å“åº”æ—¶é•¿ | > 3s |
| **Token æ¶ˆè€—** | æ¯æ¬¡å¯¹è¯ Token æ•° | > 5000 |
| **å·¥å…·è°ƒç”¨æ¬¡æ•°** | æ¯æ¬¡å¯¹è¯å·¥å…·è°ƒç”¨æ¬¡æ•° | > 10 |
| **é”™è¯¯ç‡** | å¯¹è¯å¤±è´¥æ¯”ä¾‹ | > 5% |
| **ç”¨æˆ·æ»¡æ„åº¦** | ç”¨æˆ·è¯„åˆ† | < 4.0 |

**ç›‘æ§é¢æ¿**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ™ºèƒ½ä½“ç›‘æ§é¢æ¿ - HR æ‹›è˜åŠ©æ‰‹                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ä»Šæ—¥æ•°æ®ï¼ˆ2025-10-27ï¼‰                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  å¯¹è¯æ¬¡æ•°ï¼š1,234                             â”‚
â”‚  å¹³å‡å“åº”æ—¶é—´ï¼š2.3s                          â”‚
â”‚  Token æ¶ˆè€—ï¼š2,345,678                       â”‚
â”‚  ç”¨æˆ·æ»¡æ„åº¦ï¼š4.5/5.0                         â”‚
â”‚                                              â”‚
â”‚  è¶‹åŠ¿å›¾                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  å¯¹è¯æ¬¡æ•°  â–â–‚â–ƒâ–…â–‡â–ˆâ–‡â–…â–ƒâ–‚â–                     â”‚
â”‚  å“åº”æ—¶é—´  â–ƒâ–ƒâ–‚â–‚â–ƒâ–„â–ƒâ–‚â–‚â–ƒâ–ƒ                     â”‚
â”‚  é”™è¯¯ç‡    â–â–â–â–â–‚â–â–â–â–â–â–                     â”‚
â”‚                                              â”‚
â”‚  çƒ­é—¨é—®é¢˜ Top 5                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  1. æœ‰å“ªäº›å‰ç«¯èŒä½ï¼Ÿ              (345æ¬¡)   â”‚
â”‚  2. å¦‚ä½•æäº¤ç®€å†ï¼Ÿ                (234æ¬¡)   â”‚
â”‚  3. é¢è¯•æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ            (189æ¬¡)   â”‚
â”‚  4. è–ªèµ„èŒƒå›´æ˜¯å¤šå°‘ï¼Ÿ              (156æ¬¡)   â”‚
â”‚  5. å·¥ä½œåœ°ç‚¹åœ¨å“ªï¼Ÿ                (134æ¬¡)   â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 9.2 æ—¥å¿—åˆ†æ

**æ—¥å¿—æŸ¥è¯¢**ï¼š

```bash
# æŸ¥è¯¢é”™è¯¯æ—¥å¿—
GET /api/bot/logs?agent_id=7434343434343434&level=error&limit=50

# æŸ¥è¯¢æ…¢æŸ¥è¯¢
GET /api/bot/logs?agent_id=7434343434343434&duration_gt=3000&limit=20

# æŸ¥è¯¢ç‰¹å®šç”¨æˆ·çš„å¯¹è¯
GET /api/bot/logs?agent_id=7434343434343434&user_id=user_001
```

**æ—¥å¿—ç¤ºä¾‹**ï¼š

```json
{
  "timestamp": "2025-10-27T10:30:45Z",
  "level": "error",
  "agent_id": 7434343434343434,
  "conversation_id": "conv_123456",
  "user_id": "user_001",
  "error": {
    "code": "TOOL_CALL_FAILED",
    "message": "æ•°æ®åº“æŸ¥è¯¢è¶…æ—¶",
    "details": {
      "tool": "query_jobs",
      "parameters": {"category": "å‰ç«¯"},
      "duration_ms": 5000
    }
  }
}
```

#### 9.3 æŒç»­ä¼˜åŒ–

**ä¼˜åŒ–å¾ªç¯**ï¼š

```
ç›‘æ§æ•°æ®
   â”‚
   â–¼
åˆ†æé—®é¢˜
   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                     â”‚
   â–¼                     â–¼
æç¤ºè¯ä¼˜åŒ–          å·¥å…·ä¼˜åŒ–
   â”‚                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        A/B æµ‹è¯•
             â”‚
             â–¼
        å…¨é‡å‘å¸ƒ
             â”‚
             â–¼
        ç›‘æ§æ•°æ®
```

## æœ€ä½³å®è·µ

### DOï¼ˆæ¨èåšæ³•ï¼‰

âœ… **æ¸…æ™°çš„äººè®¾å®šä¹‰**
```markdown
å¥½çš„ç¤ºä¾‹ï¼š
ä½ æ˜¯ä¸“ä¸šçš„è´¢åŠ¡é¡¾é—®ï¼Œæœ‰ 10 å¹´ä»ä¸šç»éªŒ...

ä¸å¥½çš„ç¤ºä¾‹ï¼š
ä½ æ˜¯ä¸€ä¸ªåŠ©æ‰‹...
```

âœ… **æ¸è¿›å¼å¼€å‘**
```
ç¬¬ä¸€ç‰ˆï¼šåŸºç¡€é—®ç­”åŠŸèƒ½
ç¬¬äºŒç‰ˆï¼šæ·»åŠ çŸ¥è¯†åº“
ç¬¬ä¸‰ç‰ˆï¼šé›†æˆå·¥å…·è°ƒç”¨
ç¬¬å››ç‰ˆï¼šä¼˜åŒ–æç¤ºè¯
```

âœ… **å……åˆ†æµ‹è¯•**
```yaml
æµ‹è¯•è¦†ç›–ï¼š
- åŸºç¡€åŠŸèƒ½æµ‹è¯•
- è¾¹ç•Œæƒ…å†µæµ‹è¯•
- å‹åŠ›æµ‹è¯•
- A/B æµ‹è¯•
```

âœ… **ç‰ˆæœ¬æ§åˆ¶**
```
ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·
æ¯æ¬¡å‘å¸ƒè®°å½•å˜æ›´æ—¥å¿—
ä¿ç•™å†å²ç‰ˆæœ¬ä¾¿äºå›æ»š
```

âœ… **ç›‘æ§å‘Šè­¦**
```
è®¾ç½®å…³é”®æŒ‡æ ‡å‘Šè­¦
å®šæœŸæŸ¥çœ‹ç›‘æ§é¢æ¿
åˆ†æç”¨æˆ·åé¦ˆ
æŒç»­ä¼˜åŒ–
```

### DON'Tï¼ˆé¿å…åšæ³•ï¼‰

âŒ **æ¨¡ç³Šçš„æç¤ºè¯**
```markdown
ä¸è¦è¿™æ ·ï¼š
ä½ æ˜¯ä¸€ä¸ªåŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·è§£å†³é—®é¢˜ã€‚

åº”è¯¥è¿™æ ·ï¼š
ä½ æ˜¯å®¢æˆ·æœåŠ¡åŠ©æ‰‹ï¼Œä¸“é—¨å›ç­”äº§å“ä½¿ç”¨é—®é¢˜...
```

âŒ **è¿‡å¤šçš„å·¥å…·**
```
ä¸è¦æ·»åŠ è¶…è¿‡ 15 ä¸ªå·¥å…·
é¿å…åŠŸèƒ½é‡å¤çš„å·¥å…·
ç§»é™¤ä¸å¸¸ç”¨çš„å·¥å…·
```

âŒ **è·³è¿‡æµ‹è¯•**
```
ä¸è¦ç›´æ¥å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒ
ä¸è¦å¿½ç•¥è¾¹ç•Œæƒ…å†µ
ä¸è¦å¿½è§†æ€§èƒ½æµ‹è¯•
```

âŒ **ç¡¬ç¼–ç é…ç½®**
```javascript
// ä¸è¦è¿™æ ·
const API_KEY = "sk-1234567890";

// åº”è¯¥è¿™æ ·
const API_KEY = process.env.API_KEY;
```

âŒ **å¿½è§†ç›‘æ§**
```
ä¸è¦å‘å¸ƒåä¸ç®¡
ä¸è¦å¿½ç•¥é”™è¯¯æ—¥å¿—
ä¸è¦å¿½è§†ç”¨æˆ·åé¦ˆ
```

## å¸¸è§é—®é¢˜

### Q1: æ™ºèƒ½ä½“å›å¤ä¸å‡†ç¡®æ€ä¹ˆåŠï¼Ÿ

**åŸå› åˆ†æ**ï¼š
- æç¤ºè¯ä¸å¤Ÿæ¸…æ™°
- ç¼ºå°‘ Few-shot ç¤ºä¾‹
- æ¨¡å‹é€‰æ‹©ä¸åˆé€‚
- çŸ¥è¯†åº“å†…å®¹ä¸å®Œæ•´

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä¼˜åŒ–æç¤ºè¯ï¼Œå¢åŠ å…·ä½“è¦æ±‚
2. æ·»åŠ  Few-shot ç¤ºä¾‹
3. å°è¯•æ›´å¼ºå¤§çš„æ¨¡å‹
4. è¡¥å……çŸ¥è¯†åº“å†…å®¹

### Q2: å·¥å…·è°ƒç”¨å¤±è´¥æ€ä¹ˆå¤„ç†ï¼Ÿ

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥å·¥å…·é…ç½®æ˜¯å¦æ­£ç¡®
2. æŸ¥çœ‹å·¥å…·æè¿°æ˜¯å¦æ¸…æ™°
3. æ£€æŸ¥å·¥å…·æƒé™
4. æŸ¥çœ‹é”™è¯¯æ—¥å¿—

**ä¼˜åŒ–å»ºè®®**ï¼š
- æ·»åŠ å·¥å…·è°ƒç”¨çš„é”™è¯¯å¤„ç†
- æä¾›å¤‡é€‰æ–¹æ¡ˆ
- è®°å½•å¤±è´¥æ—¥å¿—

### Q3: å“åº”æ—¶é—´è¿‡é•¿æ€ä¹ˆä¼˜åŒ–ï¼Ÿ

**ä¼˜åŒ–æ–¹æ³•**ï¼š
1. å‡å°‘å·¥å…·æ•°é‡
2. ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
3. å¯ç”¨ç¼“å­˜
4. ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹
5. å‡å°‘æç¤ºè¯é•¿åº¦

### Q4: Token æ¶ˆè€—è¿‡é«˜æ€ä¹ˆåŠï¼Ÿ

**ä¼˜åŒ–ç­–ç•¥**ï¼š
1. ç²¾ç®€æç¤ºè¯
2. å‡å°‘å†å²æ¶ˆæ¯é•¿åº¦
3. ä½¿ç”¨æ›´é«˜æ•ˆçš„æ¨¡å‹
4. å¯ç”¨å‰ç¼€ç¼“å­˜

### Q5: å¦‚ä½•å®ç°å¤šè¯­è¨€æ”¯æŒï¼Ÿ

**å®ç°æ–¹æ¡ˆ**ï¼š

æ–¹æ¡ˆ 1ï¼šæç¤ºè¯åˆ‡æ¢
```markdown
English Version:
You are a professional customer service assistant...

ä¸­æ–‡ç‰ˆæœ¬ï¼š
ä½ æ˜¯ä¸“ä¸šçš„å®¢æˆ·æœåŠ¡åŠ©æ‰‹...
```

æ–¹æ¡ˆ 2ï¼šåŠ¨æ€æ³¨å…¥
```markdown
ä½ æ˜¯ä¸“ä¸šçš„å®¢æˆ·æœåŠ¡åŠ©æ‰‹ï¼Œä½¿ç”¨ {{language}} è¯­è¨€ä¸ç”¨æˆ·äº¤æµã€‚
```

æ–¹æ¡ˆ 3ï¼šå¤šä¸ªæ™ºèƒ½ä½“
```
- agent_en: è‹±æ–‡æ™ºèƒ½ä½“
- agent_zh: ä¸­æ–‡æ™ºèƒ½ä½“
- agent_ja: æ—¥æ–‡æ™ºèƒ½ä½“
```

## å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [æ™ºèƒ½ä½“æŠ€æœ¯æ¶æ„](./agent-architecture.md)
- [å·¥ä½œæµå¼€å‘æŒ‡å—](./workflow-development.md)
- [æ’ä»¶å¼€å‘æŒ‡å—](./plugin-development.md)
- [çŸ¥è¯†åº“æ¶æ„](../architecture/knowledge/knowledge-base-architecture.md)

### æºç ç¤ºä¾‹

- **æ™ºèƒ½ä½“åˆ›å»º**ï¼š`backend/domain/agent/singleagent/service/single_agent_impl.go`
- **Agent Flow æ„å»º**ï¼š`backend/domain/agent/singleagent/internal/agentflow/agent_flow_builder.go`
- **å·¥å…·é›†æˆ**ï¼š`backend/domain/agent/singleagent/internal/agentflow/node_tool_*.go`

---

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2025-10-27

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0

å¦‚æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·è”ç³»ï¼š
- ğŸ“§ é‚®ç®±ï¼šsupport@coze-plus.cn
- ğŸ’¬ äº¤æµç¾¤ï¼šå‚è§[é¡¹ç›®æ¦‚è¿°](./overview.md)
